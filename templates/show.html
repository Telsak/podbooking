{% extends 'base.html' %}
{% block content %}
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}
<div class="table-responsive"
    <table class="table">
    <tr valign="top">
        <td>
            <span class="rubrik">Booking of {{ show['room']['name'] }}</span><br>
            <span class="brodtext"><font color=red size=+1>RULES:
                <br>&nbsp;- Book only two slots (4 hours) in advance'
                <br>&nbsp;- PODs are free to use 20 minutes after NoShow'
                </font></span>
                <hr>
                <a href="http://localhost:5000/show/{{ show['room']['name'] }}/{{show['dates']['yesterday']['date']}}">Ig√•r</a>
                <a href="http://localhost:5000/show/{{ show['room']['name'] }}/{{show['dates']['tomorrow']['date']}}">Imorgon</a>
                <table class="table table-striped table-bordered" style="border-collapse:separate;border-spacing:10px;">
                    <tr>
                        <th class="table-primary">Time</th>
                        {% for pod in show['room']['pods'] %}
                        <th class="table-primary">Pod {{ pod }}</th>
                        {% endfor %}
                    </tr>
                    <tr>
                    {% for hour in show['clocks'] %}
                        <td class="table-primary">{{ hour }}-{{ hour+2 }}</td>
                        {% for pod in show['query'][hour] %}
                            {{ show['query'][hour][pod]|safe }}
                            {% endfor %}
                    </tr>
                    {% endfor %}
                </table>
        </td>
    </tr>
    </table>
</div>
{% endblock %}